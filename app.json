{
  "id": "nl.marvinschenkel.kodi",
  "name": {
    "en": "Kodi for Homey"
  },
  "description": {
    "en": "Control your Kodi device with Homey!"
  },
  "version": "1.0.1",
  "compatibility": "0.x || 1.x",
  "category": [
    "music",
    "video"
  ],
  "author": {
    "name": "Marvin Schenkel",
    "email": "marvinschenkel@gmail.com"
  },
  "speech":[
    {
      "id": "kodi_play_movie",
      "importance": 1,
      "triggers" : {
        "en" : ["play movie"]
      }
    },
    {
      "id": "kodi_play_tvshow",
      "importance": 1,
      "triggers" : {
        "en" : ["play tv show"]
      }
    },
    {
      "id": "kodi_play_music",
      "importance": 1,
      "triggers" : {
        "en" : ["play music"]
      }
    },
    {
      "id": "kodi_play_pause",
      "importance": 1,
      "triggers" : {
        "en" : ["pause", "resume"]
      }
    },
    {
      "id": "kodi_stop",
      "importance": 0.7,
      "triggers" : {
        "en" : ["stop", "exit", "quit"]
      }
    },
    {
      "id": "kodi_next",
      "importance": 0.7,
      "triggers": {
        "en" : ["next track"]
      }
    },
    {
      "id": "kodi_previous",
      "importance": 0.7,
      "triggers": {
        "en" : ["previous track"]
      }
    },
    {
       "id": "kodi_play_latest_episode",
       "importance": 1,
       "triggers": {
         "en": ["play latest episode of", "play the latest episode of", "play latest episode", "play latest episode of"]
       }
    }
  ],
  "drivers": [
    {
      "id": "kodi",
      "name": {
        "en": "Kodi"
      },
      "images": {
        "large": "./drivers/kodi/assets/images/large.png",
        "small": "./drivers/kodi/assets/images/small.png"
      },
      "class": "videoplayer",
      "capabilities": [ "play", "pause", "stop" ],
      "pair": [
        {
          "id": "configure_kodi"
        }
        ,
        {
          "id": "add_kodis",
          "template": "add_devices"
        }
      ],
      "settings": [
        {
          "type": "group",
          "label": {
            "en": "Kodi settings"
          },
          "children": [
            {
              "id": "host",
              "type": "text",
              "label": {
                "en": "(Local) IP Address of Kodi"
              }
            },
            {
              "id": "http_port",
              "type": "number",
              "label": {
                "en": "Port number"
              }
            },
            {
              "id": "username",
              "type": "text",
              "label": {
                "en": "User name"
              }
            },
            {
              "id": "password",
              "type": "text",
              "label": {
                "en": "Password"
              }
            }

          ]
        }
      ]
    }
  ],
  "images":{
    "large":"./assets/images/large.png",
    "small":"./assets/images/small.png"
  },
  "flow":	{
    "triggers":[
      {
        "id":"kodi_movie_start",
        "title": {
          "en":"A movie has started"
        },
        "args": [
          {
            "name": "kodi",
            "type": "device",
            "filter": "driver_uri=homey:app:nl.marvinschenkel.kodi&driver_id=kodi"
          }
        ],
        "tokens":[
          {
            "name":"movie_title",
            "title": {
              "en":"title"
            },
            "example":{
              "en":"Finding Nemo"
            }
          }
        ]
      },
      {
        "id":"kodi_episode_start",
        "title": {
          "en":"An episode has started"
        },
        "args": [
          {
            "name": "kodi",
            "type": "device",
            "filter": "driver_uri=homey:app:nl.marvinschenkel.kodi&driver_id=kodi"
          }
        ],
        "tokens":[
          {
            "name":"tvshow_title",
            "title": {
              "en":"Show"
            },
            "example":{
              "en":"The Walking Dead"
            }
          },
          {
            "name":"episode_title",
            "title": {
              "en":"Episode"
            },
            "example":{
              "en":"First Time Again"
            }
          },
          {
            "name":"season",
            "title": {
              "en":"Sea #"
            },
            "example":{
              "en":"1"
            }
          },
          {
            "name":"episode",
            "title": {
              "en":"Ep #"
            },
            "example":{
              "en":"2"
            }
          }
        ]
      },
      {
        "id":"kodi_pause",
        "title": {
          "en":"Kodi has been paused"
        },
        "args": [
          {
            "name": "kodi",
            "type": "device",
            "filter": "driver_uri=homey:app:nl.marvinschenkel.kodi&driver_id=kodi"
          }
        ]
      },
      {
        "id":"kodi_resume",
        "title": {
          "en":"Kodi has been resumed"
        },
        "args": [
          {
            "name": "kodi",
            "type": "device",
            "filter": "driver_uri=homey:app:nl.marvinschenkel.kodi&driver_id=kodi"
          }
        ]
      },
      {
        "id":"kodi_stop",        
        "title": {
          "en":"Kodi has been stopped"
        },
        "args": [
          {
            "name": "kodi",
            "type": "device",
            "filter": "driver_uri=homey:app:nl.marvinschenkel.kodi&driver_id=kodi"
          }
        ]
      }
    ],
    "actions":[
      {
        "id": "play_movie_kodi",
        "title": {
          "en" : "Play a movie on Kodi"
        },
        "fluidArgs": true,
        "args":[
          {
            "name": "kodi",
            "type": "device",
            "filter": "driver_uri=homey:app:nl.marvinschenkel.kodi&driver_id=kodi"
          },
          {
            "name": "movie_title",
            "type": "text",
            "placeholder" : {
              "en" : "Type a movie title that's in your library"
            }
          }
        ]
      },
      {
        "id": "pause_resume_kodi",
        "title": {
          "en" : "Pause / resume playback on Kodi"
        },
        "fluidArgs": true,
        "args":[
          {
            "name": "kodi",
            "type": "device",
            "filter": "driver_uri=homey:app:nl.marvinschenkel.kodi&driver_id=kodi"
          }
        ]
      },
      {
        "id": "stop_kodi",
        "title": {
          "en" : "Stop playback on Kodi"
        },
        "fluidArgs": true,
        "args":[
          {
            "name": "kodi",
            "type": "device",
            "filter": "driver_uri=homey:app:nl.marvinschenkel.kodi&driver_id=kodi"
          }
        ]
      }
    ]
  }
  ,
  "permissions": [
    "homey:manager:speech-output",
    "homey:manager:speech-input",
    "homey:manager:ledring"
  ]
}
